using System;
using UnityEngine;

namespace FlavorfulStory.Visuals.Lightning
{
    /// <summary> Конфигурация освещения, содержащая все параметры и стратегии поведения для источника света.
    /// Используется для передачи настроек между контроллерами света и системой глобального освещения. </summary>
    public class LightConfig
    {
        /// <summary> Источник света Unity, к которому применяются настройки конфигурации. </summary>
        public Light LightSource;

        /// <summary> Градиент цветов для изменения цвета источника света в зависимости от времени суток.
        /// Оценивается по прогрессу от 0 до 1. </summary>
        public Gradient ColorGradient;

        /// <summary> Кривая анимации для изменения интенсивности света в зависимости от времени суток.
        /// Значения кривой умножаются на максимальную интенсивность. </summary>
        public AnimationCurve IntensityCurve;

        /// <summary> Максимальная интенсивность источника света.
        /// Используется как множитель для значений из кривой интенсивности. </summary>
        public float MaxIntensity;

        /// <summary> Тип теней, отбрасываемых источником света (None, Hard, Soft). </summary>
        public LightShadows ShadowType;

        /// <summary> Базовая сила теней источника света. Может динамически изменяться стратегией теней. </summary>
        public float ShadowStrength;

        /// <summary> Стратегия поворота источника света, определяющая его позицию в зависимости от прогресса времени.
        /// Принимает параметр прогресса от 0 до 1 и обновляет поворот источника света. </summary>
        public Action<float> RotationStrategy;

        /// <summary> Стратегия управления тенями, определяющая динамические изменения параметров теней.
        /// Принимает параметр прогресса от 0 до 1 и обновляет настройки теней источника света. </summary>
        public Action<float> ShadowStrategy;
    }
}